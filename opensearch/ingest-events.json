{
  "settings": { "index": { "number_of_shards": 1, "number_of_replicas": 0 } },
  "mappings": {
    "dynamic_templates": [
      { "meta_strings": { "path_match": "meta.*", "match_mapping_type": "string", "mapping": { "type": "keyword", "ignore_above": 512 } } },
      { "meta_longs":   { "path_match": "meta.*", "match_mapping_type": "long",   "mapping": { "type": "long" } } },
      { "meta_doubles": { "path_match": "meta.*", "match_mapping_type": "double", "mapping": { "type": "double" } } },
      { "meta_bools":   { "path_match": "meta.*", "match_mapping_type": "boolean","mapping": { "type": "boolean" } } },
      { "meta_dates":   { "path_match": "meta.*", "match_mapping_type": "date",   "mapping": { "type": "date" } } }
    ],
    "properties": {
      "ts":       { "type": "date" },
      "job_id":   { "type": "keyword" },
      "phase":    { "type": "keyword" },
      "label_id": { "type": "keyword" },
      "chunk_id": { "type": "keyword" },
      "level":    { "type": "keyword" },
      "message":  { "type": "text" },
      "meta":     { "type": "object", "enabled": true, "dynamic": true }
    }
  }
}
